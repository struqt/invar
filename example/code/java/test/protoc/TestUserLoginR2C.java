/*===----------------------------*  Java  *--------------------------------===//
//
//             THIS FILE IS GENERATED BY INVAR. DO NOT EDIT !!!
//
//===----------------------------------------------------------------------===*/
package test.protoc;

import java.io.DataInput;
import java.io.DataInputStream;
import java.io.DataOutput;
import java.io.DataOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.LinkedHashMap;
import java.util.LinkedList;
import java.util.Map;

/** 客户端请求,服务端响应 */
public final class TestUserLoginR2C
{
    static public final long CRC32 = 0x38180462;

    private java.lang.Integer            protocId   ;/* [AutoAdd] ProtocolID */
    private java.lang.Long               protocCRC  ;/* [AutoAdd] Protocol CRC32 */
    private java.lang.Integer            protocError;/* [AutoAdd] Protocol error code */
    private Protoc2C                     protoc2C   ;/* [AutoAdd] 服务端响应的公共数据 */
    private java.lang.String             userId     ;
    private java.lang.String             userName   ;
    private LinkedList<Integer>          roles      ;
    private LinkedHashMap<String,String> hotfix     ;/* [AutoAdd] Hotfix */

    public TestUserLoginR2C()
    {
        protocId    = 65528;
        protocCRC   = CRC32;
        protocError = 0;
        protoc2C    = null;
        userId      = "";
        userName    = "";
        roles       = new LinkedList<Integer>();
        hotfix      = null;
    }

    public TestUserLoginR2C reuse()
    {
        protocId = 65528;
        protocCRC = CRC32;
        protocError = 0;
        if (protoc2C != null) {
            protoc2C.reuse();
        }
        userId = "";
        userName = "";
        roles.clear();
        if (hotfix != null) {
            hotfix.clear();
        }
        return this;
    }

    /** [AutoAdd] ProtocolID */
    @invar.InvarRule(T="uint16", S="f0")
    public java.lang.Integer getProtocId() { return protocId; }

    /** [AutoAdd] Protocol CRC32 */
    @invar.InvarRule(T="uint32", S="f1")
    public java.lang.Long getProtocCRC() { return protocCRC; }

    /** [AutoAdd] Protocol error code */
    @invar.InvarRule(T="uint16", S="f2")
    public java.lang.Integer getProtocError() { return protocError; }

    /** [AutoAdd] 服务端响应的公共数据 */
    @invar.InvarRule(T="test.protoc.Protoc2C", S="f3")
    public Protoc2C getProtoc2C() { return protoc2C; }

    /**  */
    @invar.InvarRule(T="string", S="f4")
    public java.lang.String getUserId() { return userId; }

    /**  */
    @invar.InvarRule(T="string", S="f5")
    public java.lang.String getUserName() { return userName; }

    /**  */
    @invar.InvarRule(T="vec<int32>", S="f6")
    public LinkedList<Integer> getRoles() { return roles; }

    /** [AutoAdd] Hotfix */
    @invar.InvarRule(T="map<string,string>", S="f7")
    public LinkedHashMap<String,String> getHotfix() { return hotfix; }

    /** [AutoAdd] Protocol error code */
    @invar.InvarRule(T="uint16", S="f2")
    public TestUserLoginR2C setProtocError(java.lang.Integer value) { this.protocError = value; return this; }

    /** [AutoAdd] 服务端响应的公共数据 */
    @invar.InvarRule(T="test.protoc.Protoc2C", S="f3")
    public TestUserLoginR2C setProtoc2C(Protoc2C value) { this.protoc2C = value; return this; }

    /**  */
    @invar.InvarRule(T="string", S="f4")
    public TestUserLoginR2C setUserId(java.lang.String value) { this.userId = value; return this; }

    /**  */
    @invar.InvarRule(T="string", S="f5")
    public TestUserLoginR2C setUserName(java.lang.String value) { this.userName = value; return this; }

    /** [AutoAdd] Hotfix */
    @invar.InvarRule(T="map<string,string>", S="f7")
    public TestUserLoginR2C setHotfix(LinkedHashMap<String,String> value) { this.hotfix = value; return this; }

    public TestUserLoginR2C copy (TestUserLoginR2C from)
    {
        if (this == from || from == null) {
            return this;
        }
        protocId = from.protocId;
        protocCRC = from.protocCRC;
        protocError = from.protocError;
        if (from.protoc2C != null) {
            protoc2C.copy(from.protoc2C);
        } else {
            protoc2C = null;
        }
        userId = from.userId;
        userName = from.userName;
        roles.clear();
        roles.addAll(from.roles);
        if (from.hotfix != null) {
            hotfix.clear();
            hotfix.putAll(from.hotfix);
        } else {
            hotfix = null;
        }
        return this;
    } //copyFrom(...)

    public TestUserLoginR2C read(InputStream from) throws IOException
    {
        return this.read((DataInput)new DataInputStream(from));
    }

    public TestUserLoginR2C read(DataInput from) throws IOException
    {
        protocId = from.readUnsignedShort();
        protocCRC = from.readInt() & 0xFFFFFFFFL;
        protocError = from.readUnsignedShort();
        if (from.readByte() == (byte)0x01) {
            protoc2C.read(from);
        }
        userId = from.readUTF();
        userName = from.readUTF();
        roles.clear();
        Long lenRoles = from.readInt() & 0xFFFFFFFFL;
        for (Long iRoles = 0L; iRoles < lenRoles; ++iRoles) {
            Integer n1 = from.readUnsignedShort();
            roles.add(n1);
        }
        hotfix.clear();
        if (from.readByte() == (byte)0x01) {
            Long lenHotfix = from.readInt() & 0xFFFFFFFFL;
            for (Long iHotfix = 0L; iHotfix < lenHotfix; ++iHotfix) {
                java.lang.String k1 = from.readUTF();
                java.lang.String v1 = from.readUTF();
                hotfix.put(k1,v1);
            }
        }
        return this;
    }

    public TestUserLoginR2C writeStream(OutputStream from) throws IOException
    {
        return this.write((DataOutput)new DataOutputStream(from));
    }

    public TestUserLoginR2C write(DataOutput dest) throws IOException
    {
        dest.writeShort(protocId);
        dest.writeInt(protocCRC.intValue());
        dest.writeShort(protocError);
        if (protoc2C != null) {
            dest.writeByte((byte)0x01);
            protoc2C.write(dest);
        } else {
            dest.writeByte((byte)0x00);
        }
        dest.writeUTF(userId);
        dest.writeUTF(userName);
        dest.writeInt(roles.size());
        for (Integer n1 : roles) {
            dest.writeShort(n1);
        }
        if (hotfix != null) {
            dest.writeByte((byte)0x01);
            dest.writeInt(hotfix.size());
            for (Map.Entry<java.lang.String,java.lang.String> hotfixIter : hotfix.entrySet()) {
                java.lang.String k1 = hotfixIter.getKey();
                dest.writeUTF(k1);
                java.lang.String v1 = hotfixIter.getValue();
                dest.writeUTF(v1);
            }
        } else {
            dest.writeByte((byte)0x00);
        }
        return this;
    }

    public String toStringXml (String name)
    {
        StringBuilder result = new StringBuilder();
        StringBuilder attrs  = new StringBuilder();
        StringBuilder nodes  = new StringBuilder();
        attrs.append(" protocId=\"");
        attrs.append(protocId.toString()); attrs.append("\"");
        attrs.append(" protocCRC=\"");
        attrs.append(protocCRC.toString()); attrs.append("\"");
        attrs.append(" protocError=\"");
        attrs.append(protocError.toString()); attrs.append("\"");
        if (protoc2C != null) {
            nodes.append(protoc2C.toStringXml("protoc2C"));
        }
        attrs.append(" userId=\"");
        attrs.append(userId); attrs.append("\"");
        attrs.append(" userName=\"");
        attrs.append(userName); attrs.append("\"");
        if (roles.size() > 0) {
            nodes.append("<roles>");
            for (Integer n1 : roles) {
                nodes.append("<n1 value=\"");
                nodes.append(n1.toString());
                nodes.append("\">");
            }
            nodes.append("</roles>");
        }
        if (hotfix != null && hotfix.size() > 0) {
            nodes.append("<hotfix>");
            for (Map.Entry<java.lang.String,java.lang.String> hotfixIter : hotfix.entrySet()) {
                java.lang.String k1 = hotfixIter.getKey();
                nodes.append("<k1 value=\"");
                nodes.append(k1);
                nodes.append("\">");
                java.lang.String v1 = hotfixIter.getValue();
                nodes.append("<v1 value=\"");
                nodes.append(v1);
                nodes.append("\">");
            }
            nodes.append("</hotfix>");
        }
        result.append("<"); result.append(name); result.append(attrs);
        if (nodes.length() == 0) {
            result.append("/>");
        } else {
            result.append(">");
            result.append(nodes);
            result.append("</"); result.append(name); result.append(">");
        }
        return result.toString();
    } //TestUserLoginR2C::toStringXml (String name)

    public String toString ()
    {
        StringBuilder result = new StringBuilder();
        result.append("{ ");
        result.append(getClass().getName());
        result.append(", protocId:");
        result.append(protocId.toString());
        result.append(", protocCRC:");
        result.append(protocCRC.toString());
        result.append(", protocError:");
        result.append(protocError.toString());
        result.append(", protoc2C:");
        if (protoc2C != null) {
            result.append("<Protoc2C>");
        } else {
            result.append("null");
        }
        result.append(", userId:");
        result.append("\"" + userId + "\"");
        result.append(", userName:");
        result.append("\"" + userName + "\"");
        result.append(", roles:");
        result.append("(" + roles.size() + ")");
        result.append(", hotfix:");
        if (hotfix != null) {
            result.append("[" + hotfix.size() + "]");
        } else {
            result.append("null");
        }
        result.append(" }");
        return result.toString();
    } //TestUserLoginR2C::toString ()

}

